(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{100:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var r,a,c,s,o,i,l,d,j,u,b,p,O,x,h,m=n(5),f=n(0),g=n.n(f),y=n(17),v=n.n(y),S=n(127),k=n(128),w=n(4),U=n(43),_=n(35),N=n(68),C="GET_ALL_USERS_POSTS",T="CLEAR_ALL_USERS_POSTS",P="LOAD_USER_POSTS",D="SET_ACTIVE_USER",I="LOAD_CURRENT_USER",R="POSTS_ARE_LOADING",E="USER_IS_LOADING",L="TOGGLE_CONTACT_STATUS",A="GET_POST_COMMENTS_USER",B="CLOSE_MODAL",G="OPEN_MODAL",M="POST_NEW_COMMENT",z="UPDATE_LIKE_STATUS",J=n(21),V=n.n(J),F=n(33),H=function(e){return{type:R,payload:e}},W=function(e){return{type:E,payload:e}},K=function(e){return function(){var t=Object(F.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(H(!0)),t.prev=1,t.next=4,fetch(e,{headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error}));case 4:r=t.sent,n({type:P,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn("\u043d\u0430 \u044d\u0442\u0430\u043f\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435");case 11:n(H(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(F.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(W(!0)),t.prev=1,t.next=4,fetch(e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 4:r=t.sent,n({type:I,payload:r}),n(W(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Q=function(e,t){return function(){var n=Object(F.a)(V.a.mark((function n(r){var a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/users/",n.prev=1,n.next=4,fetch("/users/",{method:"PUT",body:JSON.stringify({contactNick:e,activeUserId:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 4:a=n.sent,r({type:L,payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(F.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/post/",t.prev=1,t.next=4,fetch("/post/",{method:"POST",body:JSON.stringify({pictureSrc:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 4:r=t.sent,n({type:A,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u0432 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442");case 11:n({type:G,payload:!0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e,t){return function(){var n=Object(F.a)(V.a.mark((function n(r){var a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:T}),n.prev=1,n.next=4,fetch("/post/likes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:e,activeUserId:t})}).then((function(e){return e.json()}));case 4:a=n.sent,r({type:z,payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.warn("\u0421\u0431\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043b\u0430\u0439\u043a\u0430 \u043f\u043e\u0441\u0442\u0430");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},Z=function(e,t,n){return function(){var r=Object(F.a)(V.a.mark((function r(a){var c;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/posts/latest/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastDate:e,limit:t,activeUserId:n})}).then((function(e){return e.json()}));case 2:c=r.sent,e===new Date("3000-07-26").getTime()&&a({type:T}),a({type:C,payload:c});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},$=function(e){return e.loadReducer.allUsersPosts},ee=function(e){return e.loadReducer.currentUserPosts},te=function(e){return e.loadReducer.activeUser},ne=function(e){return e.loadReducer.currentUser},re=function(e){return e.loadReducer.updatedUser},ae=function(e){return e.loadReducer.aPost},ce=function(e){return e.loadReducer.comments},se=function(e){return e.loadReducer.aUser},oe=function(e){return e.loadReducer.modalIsOpen},ie=function(e){return e.loadReducer.changedPost},le=n(37),de=n(7),je=localStorage.activeUser?JSON.parse(localStorage.activeUser):{},ue={allUsersPosts:[],activeUser:je.hasOwnProperty("avatarSrc")?je:{avatarSrc:"https://res.cloudinary.com/vladry/image/upload/v1628196607/avatars/Vlad_avatar_tjrcut.jpg",_id:"610d38873740f644cccc1cf1",posts:[],userNick:"Vlad",__v:0},currentUserPosts:[],currentUser:{},postsAreLoading:!1,userIsLoading:!1,updatedUser:{},modalIsOpen:!1,newCommentObj:{},aPost:"",comments:"",aUser:"",changedPost:{}},be=Object(_.combineReducers)({loadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=Object(de.a)({},e);return n.allUsersPosts=[].concat(Object(le.a)(n.allUsersPosts),Object(le.a)(t.payload)),n;case T:var r=Object(de.a)({},e);return r.allUsersPosts=[],r;case D:localStorage.activeUser=JSON.stringify(t.payload);var a=Object(de.a)({},e);return a.activeUser=Object(de.a)({},t.payload),a.activeUser.userNick=t.payload.userNick,a.activeUser.avatarSrc=t.payload.avatarSrc,a.activeUser.addedByUsersID=t.payload.addedByUsersID,a;case P:return Object(de.a)(Object(de.a)({},e),{},{currentUserPosts:t.payload});case I:return Object(de.a)(Object(de.a)({},e),{},{currentUser:t.payload});case R:return Object(de.a)(Object(de.a)({},e),{},{postsAreLoading:t.payload});case E:return Object(de.a)(Object(de.a)({},e),{},{userIsLoading:t.payload});case L:var c=Object(de.a)(Object(de.a)({},e),{},{updatedUser:t.payload});return c.updatedUser.addedByUsersID=t.payload.addedByUsersID,c;case A:var s=Object(de.a)({},e);return s.aPost=Object(de.a)({},t.payload[0]),s.comments=Object(le.a)(t.payload[1]),s.aUser=Object(de.a)({},t.payload[2]),s;case B:return Object(de.a)(Object(de.a)({},e),{},{modalIsOpen:!1});case G:return Object(de.a)(Object(de.a)({},e),{},{modalIsOpen:!0});case M:var o=Object(de.a)({},e);return o.newCommentObj.commentedBy=t.payload.commentedBy,o.newCommentObj.postId=t.payload.postId,o.newCommentObj.date=t.payload.date,o;case z:var i=t.payload,l=Object(de.a)({},e),d=l.allUsersPosts.findIndex((function(e){return e._id===i._id}));return l.allUsersPosts[d]=Object(de.a)({},i),l.allUsersPosts[d].comments=Object(le.a)(i.comments),l.allUsersPosts[d].likes=Object(le.a)(i.likes),l.allUsersPosts[d].content=i.content,l.allUsersPosts[d].postedBy=i.postedBy,l.allUsersPosts[d].picture=i.picture,l.changedPost=Object(de.a)({},i),l;default:return e}}}),pe=n(69),Oe=Object(_.createStore)(be,Object(N.composeWithDevTools)(Object(_.applyMiddleware)(pe.a))),xe=(n(99),n(100),n(70)),he=n(71),me=n(83),fe=n(82),ge=n(62),ye=n.n(ge),ve=n.p+"static/media/errorImage.11f20b19.jpg",Se=n(1),ke=function(){return Object(Se.jsxs)("div",{className:ye.a.errorPage,children:[Object(Se.jsx)("h1",{children:"'An Error Happened...'"}),Object(Se.jsx)("h3",{children:'"Something Crashed Here ..... "'}),Object(Se.jsx)("div",{children:Object(Se.jsx)("img",{className:ye.a.errorImg,src:ve,alt:"error_picture",width:"600px"})})]})},we=function(e){Object(me.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(xe.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={errorPresent:!1},e}return Object(he.a)(n,[{key:"render",value:function(){return this.state.errorPresent?Object(Se.jsx)(ke,{}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return function(){return{errorPresent:!0}}}}]),n}(f.PureComponent),Ue=n(10),_e=n(125),Ne=n(129),Ce=n(6),Te=n(124),Pe=n(133),De=function(e){var t=e.nick,n=e.isLoggedUser,r=void 0===n||n,a=e.large,c=void 0!==a&&a,s=e.src,o=e.handler,i=Le(),l=c?"logged: ".concat(t):t;return Object(Se.jsxs)(Ne.a,{className:r?i.BoxStyledLoggedIn:i.Box_style,onClick:o,children:[!c&&Object(Se.jsx)(Ie,{alt:"user-avatar",src:s}),c&&Object(Se.jsx)(Re,{alt:"user-avatar",src:s}),Object(Se.jsx)(Ee,{children:l})]})},Ie=Object(Ce.b)(Pe.a)(r||(r=Object(m.a)(["\nwidth: 25px;\nheight: 25px;\nmargin: 2px;\nborder: 1px solid darkgreen;\n"]))),Re=Object(Ce.b)(Pe.a)(a||(a=Object(m.a)(["\nwidth: 35px;\nheight: 35px;\nmargin: 3px;\nborder: 3px solid darkred;\n"]))),Ee=Ce.b.p(c||(c=Object(m.a)(["\ncolor: darkslategrey;\nmargin: 0 auto;\nfont-size: 12px;\nline-height: 25px;\n"]))),Le=Object(Te.a)({Box_style:{display:"flex",maxWidth:"18em",minWidth:"8em",flexDirection:"row",backgroundColor:"lightgoldenrodyellow",borderRadius:"4px",border:"1px solid lightgray","&:hover":{cursor:"pointer"}},BoxStyledLoggedIn:{display:"flex",maxWidth:"18em",minWidth:"10em",flexDirection:"row",borderRadius:"4px",border:"1px solid lightgray",backgroundColor:"lightcoral"}}),Ae=function(e){return Object(Se.jsx)(Be,{src:e.picture,width:"450px",alt:"post-picture"})},Be=Ce.b.img(s||(s=Object(m.a)(["\nborder-radius: 30px;\nborder: 3px solid red;\n"]))),Ge=function(e){return Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)("p",{children:e.content})})},Me=function(e){var t=e.rawComments,n=e.showAll;if(!t||0===t.length)return Object(Se.jsx)("p",{style:{fontSize:"1em",color:"#777"},children:"\u043d\u0438\u043a\u0442\u043e, \u043f\u043e\u043a\u0430 - \u0447\u0442\u043e \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0437\u0434\u0435\u0441\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"});var r=t.map((function(e,t){if(!(t>0)||n)return Object(Se.jsx)(ze,{children:Object(Se.jsx)("span",{children:e.comment})},t)}));return Object(Se.jsx)("ul",{children:r})},ze=Ce.b.li(o||(o=Object(m.a)(["\n  &:before {\n    content: '\u27a2 ';\n    position: relative;\n    left: -6px;\n  }\n    //list-style-type: '\u27a2  ';\n"]))),Je=function(){var e=Object(w.b)(),t=Object(w.c)(ae),n=Object(w.c)(ce),r=Object(w.c)(se);return void 0===t?Object(Se.jsx)("p",{children:"is loading"}):Object(Se.jsxs)("div",{children:[Object(Se.jsx)("button",{type:"button",onClick:function(){e({type:B,payload:!1})},style:{marginBottom:"10px",color:"red"},children:"close window"}),Object(Se.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(Se.jsx)(_e.a,{item:!0,xs:8,className:"container  boxGenStyle",children:Object(Se.jsx)(Ne.a,{className:"post-picture  boxGenStyle",children:Object(Se.jsx)(Ae,{picture:t.picture})})}),Object(Se.jsxs)(_e.a,{item:!0,xs:4,display:"flex","flex-direction":"column",className:"right-sidebar   boxGenStyle",children:[Object(Se.jsx)(Ve,{minHeight:"50px",className:"right-header   boxGenStyle",children:Object(Se.jsx)("a",{href:"#",children:Object(Se.jsx)(De,{nick:r.userNick,src:r.avatarSrc,large:!0})})}),Object(Se.jsxs)(Ne.a,{minHeight:"60px",className:"post-discription  boxGenStyle",children:[Object(Se.jsx)("p",{style:{fontSize:"0.7em",textDecorationLine:"underline",marginBottom:"10px",marginTop:"10px"},children:"Post Discription:"}),Object(Se.jsx)(Ge,{content:t.content})]}),Object(Se.jsxs)(Ne.a,{minHeight:"220px",className:"comments   boxGenStyle",children:[Object(Se.jsx)("p",{style:{fontSize:"0.7em",textDecorationLine:"underline",marginBottom:"10px",marginTop:"10px"},children:"Comments:"}),Object(Se.jsx)(Me,{rawComments:n,showAll:!0})]}),Object(Se.jsx)(Ne.a,{minHeight:"30px",className:"footer   boxGenStyle",children:"footer"})]})]})]})},Ve=Object(Ce.b)(Ne.a)(i||(i=Object(m.a)(["\n\n"]))),Fe=n(131),He=function(){var e=Object(w.b)(),t=Object(Te.a)({modal:{margin:"30px auto",background:"rgba(0, 0, 0, 0.6)",width:"90%",boxShadow:"13px 13px 9px 0px rgba(8, 63, 195, 0.33)",overlay:{margin:"30px auto",background:"rgba(0, 0, 0, 0.6)",width:"90%",boxShadow:"13px 13px 9px 0px rgba(8, 63, 195, 0.33)"}}})();return Object(Se.jsx)(Fe.a,{className:t.modal,open:Object(w.c)(oe),onClose:function(){return e({type:B,payload:!1})},hideBackdrop:!1,children:Object(Se.jsx)("div",{style:We,children:Object(Se.jsx)(Je,{})})})},We={zIndex:"2",background:"rgba(255, 255, 255, 0.9)"},Ke=n(14),qe=n(79),Qe=n.n(qe),Xe=n(56),Ye=n.n(Xe),Ze=function(e){var t=e.post,n=t.picture,r=t.comments.length,a=t.likes.length,c=Object(Se.jsxs)("span",{children:[Object(Se.jsx)(Qe.a,{color:"primary"}),r]}),s=Object(Se.jsxs)("span",{style:{marginLeft:"30px"},children:[Object(Se.jsx)(Ye.a,{color:"secondary"}),a]}),o=Object(f.useState)(""),i=Object(Ke.a)(o,2),l=i[0],d=i[1];return Object(Se.jsx)(_e.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(Se.jsxs)(Ne.a,{onMouseOver:function(e){var t=e.target;d(t.getAttribute("data-name"))},onMouseOut:function(){d("")},children:[l===n&&c,l===n&&s,Object(Se.jsx)($e,{"data-name":n,src:n,width:"190px",alt:"a-post-picture"})]})},t._id)},$e=Ce.b.img(l||(l=Object(m.a)(["\nborder-radius: 10px;\nborder: 3px solid cadetblue;\ntransition-duration: 0.1s;\n&:hover {\nfilter: brightness(0.6);\ntransition-duration: 0.1s;\n}; \n"]))),et=function(e){var t=e.data,n=Object(w.b)(),r=[];return t&&(r=t.map((function(e){return Object(Se.jsx)(Ze,{post:e},e._id)}))),Object(Se.jsxs)(_e.a,{container:!0,spacing:1,justifyContent:"space-between",wrap:"wrap",alignItems:"center",onClick:function(e){var t=e.target;t.src&&n(X(t.src))},children:[r,Object(Se.jsx)(He,{})]})},tt=n(130),nt=function(e){var t=e.match,n=Object(w.c)(ee),r=Object(w.c)(te),a=Object(w.c)(ne),c=Object(w.b)(),s=!1;a.addedByUsersID&&a.addedByUsersID.length>0&&(s=a.addedByUsersID.some((function(e){return e===r._id})));var o=t.params.userNick;return Object(f.useEffect)((function(){c(K("/posts/".concat(o))),c(q("/users/".concat(o)))}),[o,Object(w.c)(re)]),Object(Se.jsxs)(Ne.a,{className:"user-posts",children:[Object(Se.jsxs)(Ne.a,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",children:[Object(Se.jsx)("div",{className:"user-avatar",children:Object(Se.jsx)(Pe.a,{alt:"user-avatar",src:a.avatarSrc})}),Object(Se.jsx)(Ne.a,{marginLeft:"20px",marginRight:"20px",children:Object(Se.jsxs)("h3",{children:["\u041f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",a.userNick]})}),Object(Se.jsx)(tt.a,{size:"small",color:"primary",onClick:function(){c(Q(a.userNick,r._id))},children:s?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),Object(Se.jsx)(et,{data:n})]})},rt=n(81),at=n.n(rt),ct=n(80),st=n.n(ct),ot=function(e){var t=Object(w.b)(),n=Object(w.c)(te),r=e.users,a=e.isFollower,c=e.handler,s=e.resetDate;if(!r)return Object(Se.jsx)("p",{children:"loading"});var o=r.map((function(e){var r=n.userNick===e.userNick;return Object(Se.jsxs)("li",{"data-name":e._id,style:{display:"flex",gap:"5px"},children:[Object(Se.jsx)("a",{href:"".concat("/posts/").concat(e.userNick),children:Object(Se.jsx)(De,{nick:e.userNick,isLoggedUser:r,src:e.avatarSrc})}),!r&&a&&Object(Se.jsx)(it,{onClick:function(){return c(e.userNick)},children:Object(Se.jsx)(st.a,{})}),!r&&!a&&Object(Se.jsx)(it,{onClick:function(){return c(e.userNick)},children:Object(Se.jsx)(at.a,{})}),Object(Se.jsx)("button",{type:"button",onClick:function(){t({type:D,payload:e}),s()},style:{fontSize:"10px",color:"red",border:"none"},children:!r&&"log in"})]},e._id)}));return Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)("ul",{children:o})})},it=Ce.b.p(d||(d=Object(m.a)(["\nmargin-left: 10px;\n    &:hover {\n        cursor: pointer\n}"]))),lt=n(126),dt=n(63),jt=n.n(dt),ut=function(e){var t=e.post,n=e.scrollRef,r=Object(f.useRef)(),a=Object(w.c)(te)._id,c=Object(Te.a)({btn:{fontSize:10,height:20,marginTop:5}})(),s=Object(f.useState)({}),o=Object(Ke.a)(s,2),i=o[0],l=o[1],d=Object(f.useState)(!1),j=Object(Ke.a)(d,2),u=j[0],b=j[1],p=Array.isArray(t.comments)?Array.from(t.comments):[{comment:"no comments yet"},{comment:"be first to comment"}],O=Object(Se.jsx)(jt.a,{id:"notLiked"});t.likes&&(O=t.likes.some((function(e){return e===a}))?Object(Se.jsx)(Ye.a,{id:"didLike"}):Object(Se.jsx)(jt.a,{id:"notLiked"}));return Object(Se.jsxs)(bt,Object(de.a)(Object(de.a)({},null!==n?{ref:n}:{}),{},{children:[Object(Se.jsx)(xt,{src:t.picture,width:"80%",alt:"post-picture",id:"like","data-testid":"like","data-name":t._id}),Object(Se.jsxs)("p",{children:["Date: ",new Date(t.date).toLocaleDateString()," Title: ",Object(Se.jsx)(Ot,{children:t.content})]}),Object(Se.jsxs)("div",{style:pt,children:[Object(Se.jsx)(Me,{rawComments:p,showAll:u}),t._id===i.postId&&Object(Se.jsx)(ht,{children:i.comment}),Object(Se.jsx)(tt.a,{"data-testid":"toggleComments",className:c.btn,onClick:function(){b(!u)},variant:"outlined",disabled:p.length<=1&&!0,children:u?"show less":"show all"})]}),Object(Se.jsx)("p",{children:Object(Se.jsx)(lt.a,{ref:r,"aria-label":t._id,onKeyUp:function(e){"Escape"===e.key&&(!function(e,t,n){fetch("/comments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:e,comment:t,commentedBy:n})}).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){return console.log(e.message)}))}(e.target.id,e.target.value,a),r.current.value="")},id:t._id,placeholder:"leave a comment",maxRows:"3",defaultValue:""})}),O]}),t._id)},bt=Ce.b.div(j||(j=Object(m.a)(["\nmargin-top: 5%;\n"]))),pt={maxWidth:"70%",color:"darkslategrey",margin:"12px auto 2px"},Ot=Ce.b.span(u||(u=Object(m.a)(["\nmax-width: 70%;\ncolor: darkgreen;\nfont-size: 14px;\nfont-weight: bold;\n"]))),xt=Ce.b.img(b||(b=Object(m.a)(["\nborder-radius: 30px;\nborder: 1px solid darkblue;\nbox-shadow: 3px 3px 3px 0 rgba(8, 63, 195, 0.33);\ntransition-duration: 0.3s;\n&:hover {\nopacity: 0.7;\ntransition-duration: 0.3s;\n}\n"]))),ht=Ce.b.p(p||(p=Object(m.a)(["\ncolor: red\n"]))),mt=function(e){var t=e.allUsersPosts_,n=e.clickManager,r=e.scrollRef;if(!t||0===t.length)return Object(Se.jsx)("div",{children:"loading"});var a=t.length-1,c=t.map((function(e,t){return Object(Se.jsx)(ut,{post:e,scrollRef:a===t?r:null},e._id)}));return Object(Se.jsx)("div",{onClick:n,children:c})},ft=Object(Te.a)({btn:{position:"relative",left:-15,fontSize:8,paddingLeft:26,paddingRight:26,height:15,marginTop:5}}),gt=function(e){var t=e.text,n=e.isVisible,r=e.handler,a=ft(),c=Object(Se.jsx)(tt.a,{className:a.btn,color:"primary",variant:"contained",disabled:!n,onClick:r,children:t});return Object(f.useEffect)((function(){}),[n]),Object(Se.jsx)(Se.Fragment,{children:c})};var yt,vt,St,kt,wt=function(){var e=Object(f.useRef)(),t=Object(f.useRef)(),n=localStorage.rangeDefaultValue?JSON.parse(localStorage.rangeDefaultValue):3,r=Object(f.useState)(n),a=Object(Ke.a)(r,2),c=a[0],s=a[1],o=Object(f.useState)(c),i=Object(Ke.a)(o,2),l=i[0],d=i[1],j=Object(f.useState)(c),u=Object(Ke.a)(j,2),b=u[0],p=u[1],O=Object(f.useState)(0),x=Object(Ke.a)(O,2),h=x[0],m=x[1],g=Object(f.useState)(0),y=Object(Ke.a)(g,2),v=y[0],S=y[1],k=function(){var e=h-l,t=v-b;return t=t<0?0:t,["".concat(e=e<0?0:e," more"),"".concat(t," more")]}(),U=Object(f.useState)([]),_=Object(Ke.a)(U,2),N=_[0],C=_[1],P=Object(f.useState)([]),D=Object(Ke.a)(P,2),I=D[0],R=D[1],E=Object(f.useState)(!1),L=Object(Ke.a)(E,2),A=L[0],B=L[1],G=Object(f.useState)(!1),M=Object(Ke.a)(G,2),z=M[0],J=M[1],V=Object(w.b)(),F=function(e){var t=e.target;t.textContent===k[0]?(d(l+c),l+1>=h&&B(!1)):t.textContent===k[1]?(0===I.length&&J(!1),p(b+c),b+1>=v&&J(!1)):(d(0),p(0),H("followers",c),H("recommended",c))},H=function(e,t){fetch("/users/",{method:"POST",body:JSON.stringify({activeUserId:ae._id,limit:t,userType:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var n=Object(Ke.a)(t,2),r=n[0],a=n[1];"followers"===e?(C(r),m(a),r.length>0&&B(!0)):"recommended"===e&&(R(r),S(a),r.length>0&&J(!0))})).catch((function(e){return console.error(e.message)}))};Object(f.useEffect)((function(){H("followers",l)}),[l,Object(w.c)(re)]),Object(f.useEffect)((function(){H("recommended",b)}),[b,Object(w.c)(re)]);var W=Object(w.c)($),K=Object(f.useState)(Date.parse("2030-09-02T13:11:35.374+00:00")),q=Object(Ke.a)(K,2),ee=q[0],ne=q[1],ae=Object(w.c)(te);Object(f.useEffect)((function(){V(Z(ee,3,ae._id))}),[ee,Object(w.c)(ie),Object(w.c)(te)]);var ce=function(){ne(new Date("3000-07-26").getTime()),V({type:T})},se=function(e){V(Q(e,ae._id))},oe=0,le=function(e){V(X(e.src))},de=function(e){if(e.src&&"like"===e.id){var t=e.getAttribute("data-name");V(Y(t,ae._id)),ce()}};return Object(Se.jsxs)(Ut,{children:[Object(Se.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(Se.jsxs)(_e.a,{item:!0,xs:8,className:"left-scroll-items",children:[Object(Se.jsxs)(Nt,{className:"left-header",children:[Object(Se.jsx)(De,{nick:ae.userNick,src:ae.avatarSrc}),Object(Se.jsxs)("div",{className:"settings",children:[Object(Se.jsx)("h3",{children:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u044e\u0437\u0435\u0440-\u043b\u0438\u0441\u0442\u0430\u0445"}),Object(Se.jsx)("input",{type:"range",ref:t,min:"0",max:"8",defaultValue:c,onMouseUp:function(e){localStorage.rangeDefaultValue=t.current.value,s(+t.current.value),F(e)}}),Object(Se.jsx)("span",{children:c})]})]}),Object(Se.jsxs)(_t,{onScroll:function(){(e.current?e.current.getBoundingClientRect().y:1e3)<200&&(W&&W.length>0?ne(Date.parse(W[W.length-1].date)):ne(new Date("3000-07-26").getTime()))},overflow:"scroll",height:"500px",className:"scroll-items",minHeight:"350px",children:[Object(Se.jsx)(mt,{scrollRef:e,allUsersPosts_:W,clickManager:function(e){e.stopPropagation();var t=e.target;oe+=1,setTimeout((function(){1===oe?le(t):oe>1&&de(t),oe=0}),300)},resetDate:ce}),Object(Se.jsx)("p",{children:"Congrats! \u0412\u044b \u0443\u043c\u0443\u0434\u0440\u0438\u043b\u0438\u0441\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u0441\u0442\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Instagram-\u0430!"})]})]}),Object(Se.jsxs)(_e.a,{item:!0,xs:2,className:"right-sidebar",display:"flex","flex-direction":"column",children:[Object(Se.jsx)(Nt,{className:"right-header",width:"190%",children:Object(Se.jsx)("a",{href:"/posts/".concat(ae.userNick),children:Object(Se.jsx)(De,{nick:ae.userNick,src:ae.avatarSrc,large:!0})})}),Object(Se.jsxs)(_t,{className:"added-users",minHeight:"130px",style:Ct,children:[Object(Se.jsx)("p",{children:"Followers"}),Object(Se.jsx)(ot,{users:N,isFollower:!0,handler:se,resetDate:ce}),Object(Se.jsx)(gt,{text:k[0],isVisible:A,handler:F})]}),Object(Se.jsxs)(_t,{className:"recomended-users",minHeight:"130px",style:Ct,children:[Object(Se.jsx)("p",{children:"Recommended"}),Object(Se.jsx)(ot,{users:I,isFollower:!1,handler:se,resetDate:ce}),Object(Se.jsx)(gt,{text:k[1],isVisible:z,handler:F})]}),Object(Se.jsx)(_t,{className:"footer",minHeight:"50px",style:Ct,children:"Footer Notes"})]})]}),Object(Se.jsx)(He,{})]})},Ut=Ce.b.div(O||(O=Object(m.a)(["\n  text-align: center;\n  color: darkred;\n  border-radius: 5px;\n  font-size: 11px;\n  border: 1px solid darkgray;\n"]))),_t=Object(Ce.b)(Ne.a)(x||(x=Object(m.a)(["\nborder: 1px solid lightgray;\nbox-shadow: 4px 4px 8px 1px rgba(34, 60, 80, 0.2);\n"]))),Nt=Object(Ce.b)(_t)(h||(h=Object(m.a)(["\ndisplay: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: space-between;\nmin-height: 30px;\n"]))),Ct={width:"190%",display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",margin:"3px auto"},Tt=function(){return Object(Se.jsx)(Dt,{children:Object(Se.jsx)(Pt,{exact:!0,to:"/posts/latest/",children:"Feed"})})},Pt=(Ce.b.li(yt||(yt=Object(m.a)(["\n  margin: 0 8px;\n"]))),Object(Ce.b)(U.b)(vt||(vt=Object(m.a)(["\nfont-size: 20px;\nborder: 2px solid darkred;\nborder-radius: 6px;\ncolor: darkgreen;\ntext-decoration: none;\n   margin: 2px 8px;\n&.active {\ncolor: darkred;\nmargin: 0 10px; //\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0434\u0435\u043b\u044f\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u043e\u0442\u0441\u0442\u0443\u043f\u0430\u043c\u0438 \u0441\u043f\u0440\u0430\u0432\u0430 \u0438 \u0441\u043b\u0435\u0432\u0430\n}"])))),Dt=Ce.b.nav(St||(St=Object(m.a)(["\ndisplay: flex;\njustify-content: center;\n//gap: 6%;\nmargin-top: 6px;\nmargin-bottom: 10px;\n list-style-type: none;\n background-color: lightgray;\n //max-width: 80%;\n"]))),It=function(){return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Tt,{}),Object(Se.jsxs)(Ue.d,{children:[Object(Se.jsx)(Ue.b,{exact:!0,path:"/",render:function(){return Object(Se.jsx)(Ue.a,{to:"/posts/latest/"})}}),Object(Se.jsx)(Ue.b,{path:"/posts/latest/",component:wt}),Object(Se.jsx)(Ue.b,{exact:!0,path:"/posts/:userNick",component:nt})," />",Object(Se.jsx)(Ue.b,{path:"/post/",component:Je}),Object(Se.jsx)(Ue.b,{path:"*",component:ke})]})]})},Rt=Object(Ce.a)(kt||(kt=Object(m.a)(["\na {\ntext-decoration: none;\n}\n.boxGenStyle {\nborder: 1px solid lightgray;\nbox-shadow: 4px 4px 8px 1px rgba(34, 60, 80, 0.2);\nbox-sizing: border-box;\n}\n"])));v.a.render(Object(Se.jsx)(g.a.StrictMode,{children:Object(Se.jsx)(U.a,{children:Object(Se.jsx)(w.a,{store:Oe,children:Object(Se.jsx)(S.a,{children:Object(Se.jsx)(we,{children:Object(Se.jsxs)(k.a,{align:"center",children:[Object(Se.jsx)(Rt,{}),Object(Se.jsx)(It,{})]})})})})})}),document.getElementById("root"))},62:function(e,t,n){e.exports={"error-page":"errorMessage_error-page__304G8","error-img":"errorMessage_error-img__o3Ptu"}},99:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.ddd1cf5e.chunk.js.map